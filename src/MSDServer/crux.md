# CRUX 서버 아키텍처

## 1. CRUX 서버 개요  

CRUX 서버는 **.NET Core 기반의 크로스플랫폼 애플리케이션**으로 개발되었습니다.  
이를 통해 **윈도우 서버뿐만 아니라 리눅스 서버에도 배포가 가능**하여  
**운영체제 라이선스 비용을 줄이고, 높은 확장성을 갖춘 서버**로 설계되었습니다.  

---

## 2. CRUX 서버의 주요 기능  

✅ **백엔드 웹 API (RESTful API) 제공**  
✅ **실시간 데이터 처리를 위한 TCP 소켓 통신 기능**  
✅ **보안 강화를 위한 로그인 비밀번호 보호 및 JWT(Json Web Token) 인증 적용**  
✅ **테스트 클라이언트 없이도 서버 기능을 독립적으로 테스트할 수 있도록 설계**  

---

## 3. 레이어드 아키텍처  

CRUX 서버의 코드는 **계층형(Layered) 아키텍처**를 적용하여 모듈화되었습니다.  
이를 통해 **각 계층을 독립적으로 유지할 수 있어 코드의 유지보수와 확장성이 뛰어납니다.**  

![CRUX 레이어드 아키텍처](CRUX레이어드.png)  

### 🔹 **계층별 역할**
| 계층 | 역할 |
|------|-----------------------------------|
| **HOST** | 애플리케이션 실행 환경 |
| **PRESENTATION** | RESTful API, TCP 소켓, Background 서비스 |
| **INFRA** | PostgreSQL, Dapper, Cache와 같은 데이터 레이어 |
| **DI** | 의존성 주입(Dependency Injection) |
| **CORE** | 핵심 비즈니스 로직 |

### 🔹 **계층적 모듈화의 장점**
- 기능 추가 시 **다른 계층을 변경하지 않고 독립적으로 개발 가능**
- **데이터베이스 변경이 필요할 경우, 인프라 계층만 수정하면 적용 가능**
- API 및 소켓 통신을 **마이크로서비스로 독립적으로 확장 가능**
- **파일 임포팅을 통해 새로운 기능을 추가 개발 가능** (코드 복사 불필요)

---

## 4. 헤드리스 아키텍처  

CRUX 서버는 **클라이언트와 데이터베이스(DB)와 완전히 분리된 헤드리스(Headless) 아키텍처**로 구성되었습니다.  
이를 통해 **서버는 독립적으로 동작하며 다양한 클라이언트 환경을 지원할 수 있습니다.**  

![CRUX 헤드리스 아키텍처](CRUX헤드리스.png)  

### 🔹 **헤드리스 아키텍처의 구성 요소**
- **데이터베이스(DB) 클러스터링 적용** → **고가용성(High Availability) 유지**
- **클라우드 환경에서 수평 스케일링(Scaling) 가능** → **부하 분산 및 성능 최적화**
- **표준화된 API 및 프로토콜 설계** → **다양한 클라이언트 지원 가능**  
  - PC, Mac, Web, Mobile, IoT 등 클라이언트 변경 없이 대응 가능

---

## 5. CRUX 서버 아키텍처의 기대 효과  

| 기존 서버 방식의 문제점 | CRUX 서버의 개선점 |
|----------------------|-------------------------------|
| 서버 아키텍처 변경 시 코드 재작성 필요 | **계층 분리 설계를 통해 특정 계층만 수정 가능** |
| 단일 서버 구성으로 확장 어려움 | **클라우드 기반 수평 스케일링 지원** |
| 클라이언트 유형 변경 시 서버 수정 필요 | **헤드리스 아키텍처로 다양한 클라이언트 지원 가능** |

## 6. 결론  

✅ **운영체제에 종속되지 않는 크로스플랫폼 서버**  
✅ **확장성과 유지보수성이 뛰어난 계층형 아키텍처 적용**  
✅ **마이크로서비스 확장을 고려한 설계로 유연한 구조**  
✅ **클라우드 친화적인 헤드리스 아키텍처로 다양한 클라이언트 대응 가능**  

CRUX 서버는 **고성능, 고가용성, 확장성을 갖춘 백엔드 시스템**으로  
스마트 팩토리 및 다양한 산업 환경에서 효율적으로 운영될 수 있도록 설계되었습니다. 🚀